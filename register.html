<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Create Account â€¢ CJC School Frontline Services</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/register.css">
</head>
<body>
	<div class="register-shell">
		<section class="register-left">
			<h1>CREATE<br>ACCOUNT</h1>
			<img src="img/Building.png" alt="Campus Building">
		</section>

		<section class="register-right">
			<div class="register-brand">
				<img src="img/cjclogo.png" alt="CJC Logo">
				<a class="register-help" href="mailto:support@cjcsfs.edu.ph">Need Help?</a>
			</div>

			<form class="register-form" method="POST" action="register_process.php">
				<input class="form-control" type="text" name="first_name" placeholder="First Name" required>
				<input class="form-control" type="text" name="last_name" placeholder="Last Name" required>

				<input class="form-control" type="email" name="email" placeholder="Email" autocomplete="username" required>
				<input class="form-control" type="tel" name="phone" placeholder="Phone Number (optional)">

				<input class="form-control" type="password" name="password" placeholder="Password" autocomplete="new-password" required>
				<input class="form-control" type="password" name="confirm_password" placeholder="Confirm Password" autocomplete="new-password" required>

				<div class="dob-row full-width">
					<input class="form-control" type="date" name="dob" aria-label="Date of Birth" id="dobInput">
					<div class="age-box">
						<label for="age">Age:</label>
						<input id="age" type="number" name="age" min="1" max="120" inputmode="numeric" readonly>
					</div>
				</div>

				<div class="register-actions">
					<a class="btn btn-back" href="login.html">Back</a>
					<button class="btn btn-submit" type="submit">Get Started</button>
				</div>
			</form>
		</section>
	</div>

	<script>
		const ageField = document.getElementById('age');
		const dobInput = document.getElementById('dobInput');

		function calculateAge(dob) {
			if (!dob) return '';
			const birth = new Date(dob);
			if (Number.isNaN(birth.getTime())) return '';
			const today = new Date();
			let age = today.getFullYear() - birth.getFullYear();
			const m = today.getMonth() - birth.getMonth();
			if (m < 0 || (m === 0 && today.getDate() < birth.getDate())) {
				age--;
			}
			return age >= 0 ? age : '';
		}

		dobInput?.addEventListener('change', () => {
			ageField.value = calculateAge(dobInput.value);
		});
	</script>
</body>
</html>